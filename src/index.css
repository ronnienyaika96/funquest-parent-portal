
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Kid-friendly soft backgrounds */
    --background: 220 15% 97%;
    --foreground: 220 13% 18%;

    --card: 0 0% 100%;
    --card-foreground: 220 13% 18%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 13% 18%;

    /* Vibrant but friendly primary colors */
    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 15% 95%;
    --secondary-foreground: 220 13% 18%;

    --muted: 220 15% 94%;
    --muted-foreground: 220 9% 46%;

    --accent: 330 81% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 91%;
    --input: 220 13% 94%;
    --ring: 262 83% 58%;

    --radius: 1rem;

    /* Kid-friendly sidebar colors */
    --sidebar-background: 262 100% 97%;
    --sidebar-foreground: 220 13% 18%;
    --sidebar-primary: 262 83% 58%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 330 81% 95%;
    --sidebar-accent-foreground: 220 13% 18%;
    --sidebar-border: 262 50% 85%;
    --sidebar-ring: 262 83% 58%;

    /* FunQuest Kid-Friendly Brand Colors */
    --funquest-primary: 262 83% 58%;    /* Playful purple */
    --funquest-secondary: 330 81% 70%;   /* Friendly pink */
    --funquest-accent: 142 76% 45%;      /* Fresh green */
    --funquest-success: 142 69% 58%;     /* Success green */
    --funquest-warning: 45 100% 60%;     /* Sunny yellow */
    --funquest-error: 0 84% 70%;         /* Soft red */
    --funquest-pink: 330 81% 70%;        /* Bubblegum pink */
    --funquest-blue: 217 91% 65%;        /* Sky blue */
    --funquest-green: 142 69% 58%;       /* Nature green */
    --funquest-orange: 25 95% 60%;       /* Cheerful orange */
    --funquest-purple: 262 83% 58%;      /* Magic purple */
    --funquest-turquoise: 180 65% 55%;   /* Ocean turquoise */
    
    /* Learning progress colors */
    --progress-beginner: 45 100% 75%;    /* Light yellow */
    --progress-intermediate: 25 95% 65%; /* Light orange */
    --progress-advanced: 142 69% 65%;    /* Light green */
    --progress-expert: 262 83% 70%;      /* Light purple */
    
    /* Gamification colors */
    --badge-bronze: 30 75% 65%;
    --badge-silver: 0 0% 75%;
    --badge-gold: 45 100% 65%;
    --badge-diamond: 217 91% 75%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Nunito', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  }

  /* Kid-friendly typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Nunito', 'Inter', sans-serif;
    font-weight: 700;
    line-height: 1.3;
  }
  
  .font-playful {
    font-family: 'Nunito', sans-serif;
    font-weight: 600;
  }
  
  .font-clean {
    font-family: 'Inter', sans-serif;
  }

  /* Touch-friendly interactions */
  button, .btn {
    min-height: 48px;
    min-width: 48px;
    touch-action: manipulation;
  }

  /* Smooth animations */
  * {
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
  }

  /* Custom Scrollbar for Mobile */
  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(156, 163, 175, 0.5); border-radius: 2px;}
  ::-webkit-scrollbar-thumb:hover { background: rgba(156, 163, 175, 0.8);}
}

@layer components {
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-2 py-2 z-50;
    height: 80px;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
  }
  .bg-rainbow-gradient {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 25%, #06b6d4 50%, #10b981 75%, #f59e0b 100%);
  }
  .fab {
    @apply w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 active:scale-95;
  }
  .fab-primary {
    @apply fab bg-gradient-to-r from-funquest-warning to-funquest-orange text-white;
  }
  .fab-secondary {
    @apply fab bg-gradient-to-r from-funquest-purple to-funquest-pink text-white;
  }
  .card-mobile {
    @apply bg-white rounded-3xl p-6 shadow-lg border border-gray-100 transition-all duration-200 active:scale-98;
  }
  .card-game {
    @apply card-mobile bg-gradient-to-br from-funquest-blue/10 to-funquest-purple/10 hover:shadow-xl cursor-pointer;
  }
  .btn-primary {
    @apply bg-gradient-to-r from-funquest-purple to-funquest-pink text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all duration-200 active:scale-95;
  }
  .btn-secondary {
    @apply bg-gradient-to-r from-funquest-blue to-funquest-turquoise text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all duration-200 active:scale-95;
  }
  .btn-outline {
    @apply bg-white border-2 border-funquest-purple text-funquest-purple font-bold py-4 px-8 rounded-2xl shadow-md transition-all duration-200 active:scale-95;
  }
  .progress-bar {
    @apply w-full bg-gray-200 rounded-full h-3 overflow-hidden;
  }
  .progress-fill {
    @apply h-full bg-gradient-to-r from-funquest-success to-funquest-blue rounded-full transition-all duration-500 ease-out;
  }
  .badge-achievement {
    @apply inline-flex items-center px-3 py-2 rounded-full text-sm font-medium bg-gradient-to-r from-funquest-warning to-funquest-orange text-white shadow-md;
  }
  .grid-mobile {
    @apply grid grid-cols-1 gap-4;
  }
  @screen sm {
    .grid-mobile {
      @apply grid-cols-2 gap-6;
    }
  }
  @screen lg {
    .grid-mobile {
      @apply grid-cols-3 gap-8;
    }
  }
  .loading-bounce {
    animation: bounce 1.4s infinite ease-in-out both;
  }
  .loading-bounce-delay {
    animation-delay: -0.32s;
  }
  .loading-bounce-delay-2 {
    animation-delay: -0.16s;
  }
  .pulse-soft {
    animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  @keyframes pulse-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
  }
  .shake {
    animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }
  @keyframes shake {
    10%, 90% { transform: translate3d(-1px, 0, 0); }
    20%, 80% { transform: translate3d(2px, 0, 0); }
    30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
    40%, 60% { transform: translate3d(4px, 0, 0); }
  }
  .success-bounce {
    animation: success-bounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) both;
  }
  @keyframes success-bounce {
    0% { transform: scale(0);}
    50% {transform: scale(1.2);}
    100% {transform: scale(1);}
  }
}

/* Fix for dropdown and modal z-index for mobile */
:root, body {
  overscroll-behavior-y: none;
}
/* App-wide: force overlays/menus to not be transparent */
[class*='dropdown'], [class*='menu'] {
  background: #fff !important;
}

/* Safe area support */
@supports (padding: max(0px)) {
  .safe-area-top { padding-top: max(1rem, env(safe-area-inset-top));}
  .safe-area-bottom { padding-bottom: max(1rem, env(safe-area-inset-bottom));}
}
/* Custom override for SVGs in tracing container */
.letter-svg-container svg {
  width: 92% !important;
  height: 92% !important;
  max-width: 360px !important;
  max-height: 360px !important;
  display: block !important;
  margin: 0 auto !important;
  overflow: visible !important;
}
.letter-svg-container svg path,
.letter-svg-container svg ellipse,
.letter-svg-container svg circle,
.letter-svg-container svg rect,
.letter-svg-container svg polyline,
.letter-svg-container svg polygon {
  stroke: #1e1e1e !important;
  stroke-width: 4 !important;
  fill: #007bff !important;
}
.letter-svg-container svg text {
  fill: #007bff !important;
  font-weight: bold !important;
}
